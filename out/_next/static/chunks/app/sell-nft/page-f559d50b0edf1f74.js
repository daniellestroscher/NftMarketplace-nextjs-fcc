(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2763],{11870:function(e,t,s){Promise.resolve().then(s.bind(s,3801))},3801:function(e,t,s){"use strict";s.r(t);var r=s(9268),a=s(86006),d=s(59424),n=s(19707),i=s(51643),l=s(65209),c=s(32062),o=s(74954),f=s(93879),h=s(65576),u=s(81915),p=s(22851),x=s(26221);t.default=()=>{let[e,t]=(0,a.useState)(""),[s,m]=(0,a.useState)(""),[N,v]=(0,a.useState)(!1),{address:j}=(0,n.mA)(),{chain:w}=(0,n.LN)(),k=w?w.id:"31337",g=c[k];if(!g){let e="No entry in networkMapping.json matching the current chain ID of ".concat(k);return console.error(e),(0,r.jsxs)("div",{children:["Error: ",e]})}let y=g.NftMarketplace[0],[b,I]=(0,a.useState)(void 0);async function A(){let e=await (0,i.a4)({address:y,abi:l,functionName:"getProceeds",args:[j]});e&&I(o.O$.from(e.toString()))}(0,a.useEffect)(()=>{A()},[j]);let C=async()=>{let{request:e}=await (0,i.$q)({address:y,abi:l,functionName:"withdrawProceeds"}),{hash:t}=await (0,i.n9)(e);t&&alert("withdraw successful")},{loading:S,data:Z}=(0,h.a)(u.F),_=void 0!==b&&!b.isZero(),E=(e,t)=>{let s=Z.activeItems.find(s=>{let{nftAddress:r,tokenId:a}=s;return e===r&&t===a});return s?{seller:s.seller,price:s.price}:{seller:void 0,price:void 0}};return(0,r.jsxs)("div",{className:"container mx-auto",children:[(0,r.jsxs)("div",{className:"py-4",children:[(0,r.jsx)("h2",{className:"text-2xl",children:"Your NFTs"}),(0,r.jsxs)("div",{className:"flex flex-wrap",children:[!S&&0==Z.activeItems.length&&(0,r.jsx)("div",{children:"No Nfts Listed"}),!S&&e&&s&&(0,r.jsx)("div",{className:"",children:(0,r.jsx)(p.Z,{nftAddress:e,nftMarketplaceAddress:y,tokenId:s,seller:j,price:void 0})}),!S&&Z.activeItems.map(e=>{let{seller:t,price:s}=E(e.nftAddress,e.tokenId);return(0,r.jsx)(p.Z,{nftAddress:e.nftAddress,nftMarketplaceAddress:y,tokenId:e.tokenId,seller:t,price:s},"".concat(e.nftAddress).concat(e.tokenId))})]})]}),(0,r.jsxs)("div",{className:"py-4",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-6 justify-items-end w-fit p-2",children:[(0,r.jsx)("h2",{className:"text-2xl",children:"List New NFT"}),(0,r.jsx)(x.Z,{placeholder:"NFT Contract Address",name:"Nft Contract Address",onChange:e=>{t(e.target.value)},type:"text",color:"primary"}),(0,r.jsx)(x.Z,{placeholder:"Token ID",name:"Token ID",onChange:e=>{m(e.target.value)},type:"number",color:"primary"})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-2 justify-items-start w-fit fixed bottom-10 right-5 bg-sky-500/20 p-3 rounded",children:[(0,r.jsx)("h2",{className:"text-2xl",children:"Withdraw proceeds"}),_?(0,r.jsxs)("p",{children:["Sales proceeds available for withdrawal:"," ",f.dF(b)," ЕТH"]}):(0,r.jsx)("p",{children:"No withdrawable proceeds detected"}),(0,r.jsx)(d.Z,{variant:"outlined",disabled:!_,id:"withdraw-proceeds",onClick:C,type:"button",children:"Withdraw"})]})]})]})}}},function(e){e.O(0,[7669,6507,2100,7354,9253,6488,1744],function(){return e(e.s=11870)}),_N_E=e.O()}]);